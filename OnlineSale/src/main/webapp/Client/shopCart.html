<!doctype html>
<html lang="en">
	<head>
	<meta charset="UTF-8">
	<meta name="Generator" content="EditPlus®">
	<meta name="Author" content="">
	<meta name="Keywords" content="">
	<meta name="Description" content="">
	<title>订单页</title>
	<link rel="stylesheet" href="../css/index.css" charset="utf-8" />
 </head>
 <body>
	<div id="main">
		<div class="top">
			<div class="left fl">
                <p>易物会员 <a class="log" href="login.html">登录</a> <a href="registerDemo.html">注册</a></p>
            </div>
			<div class="right fr">
				<a href="#">线下体验店</a>
				<a href="AddressManagement.html"><img src="../images/yh.png">会员中心</a>
				<a href="shopCart.html"><img src="../images/gwc.png">购物车</a>
				<a href="#">服务中心</a>
			</div>
		</div>
		<div class="clear"></div>
		<div class="second">
			<img class="fl" src="../images/logo3.jpg">
			<span>购物车</span>
			<div class="search fr">
				<input type="text" />
				<button class="button">搜商品</button>
			</div>
		</div>
		<div class="cartMain">
			<div class="cartThead">
				<div class="cartCheck cartWidth fl">
					<input type="checkbox" checked class="check btn" />全选
				</div>
				<div class="fl cartGoods">商品</div>
				<div class="fl cartWidth cartProps"></div>
				<div class="fl cartWidth">单价(元)</div>
				<div class="fl cartWidth">数量</div>
				<div class="fl cartWidth">金额(元)</div>
				<div class="fl cartWidth">操作</div>
				<div class="clear"></div>
			</div>
			<!--订单商品信息开始-->
			<div class="cartItem">
				<div class="cartCheck cartWidth fl">
					<input type="checkbox" checked name="check" class="btnCheck" />
				</div>
				<div class="fl cartGoods">
					<a href="">
						<img class="fl" src="../images/s1.jpg" />
						<span>商品名</span>
					</a>
					
				</div>
				<div class="fl cartWidth props-txt">规格</div>
				<div class="fl cartWidth simplePrice">5.00</div>
				<div class="fl cartWidth cart">
					<a href="javascript:void(0);" class="reduce">-</a>
					<input type="text" class="numInput" value="1" />
					<a href="javascript:void(0);" class="add">+</a>
				</div> 
				<div class="fl cartWidth sumPrice">5.00</div>
				<div class="fl cartWidth cartHandle">
					<a href="">收藏</a>
					<a href="">删除</a>
				</div>
				<div class="clear"></div>
			</div>
			<div class="cartItem">
				<div class="cartCheck cartWidth fl">
					<input type="checkbox" checked name="check" class="btnCheck"/>
				</div>
				<div class="fl cartGoods">
					<a href="">
						<img class="fl" src="../images/s1.jpg" />
						<span>商品名</span>
					</a>
					
				</div>
				<div class="fl cartWidth props-txt">规格</div>
				<div class="fl cartWidth simplePrice">5.00</div>
				<div class="fl cartWidth cart">
					<a href="javascript:void(0);" class="reduce">-</a>
					<input type="text" class="numInput" value="1" />
					<a href="javascript:void(0);" class="add">+</a>
				</div> 
				<div class="fl cartWidth sumPrice">5.00</div>
				<div class="fl cartWidth cartHandle">
					<a href="">收藏</a>
					<a href="">删除</a>
				</div>
				<div class="clear"></div>
			</div>
			<!--订单商品信息结束-->

		</div>
	</div>


	<!--固定在底部的结算开始-->
	<div class="cartFootbar">
		<div class="cartFootbarWrap">
			<div class="cartCheck cartWidth fl">
				<input type="checkbox" checked="checked" class="check btn" />全选
			</div>
			<a href="javascript:0;">删除选中的商品</a>
			<a href="">收藏</a>
			<a href="" class="finish fr">结算</a>
			<span class="cartSum fr">合计:¥<strong class="numPriceStrong">0.00</strong></span>
			<span class="cartChoose fr">已选<strong class="numStrong">0</strong>件商品</span>
			
			
			<div class="clear"></div>
		</div>
	</div>
	<!--固定在底部的结算结束-->

	<div class="service">
		<span>关于易福</span>
		<span>新手指南</span>
		<span>创业平台</span>
		<span>售后无忧</span>
	</div>
	<div class="serviceFooter">
		<dl>
			<dt>购物指南</dt>
			<dd>
				<div><a href="">购物流程</a></div>
				<div><a href="">会员介绍</a></div>
				<div><a href="">生活旅行/团购</a></div>
				<div><a href="">常见问题</a></div>
				<div><a href="">大家电</a></div>
				<div><a href="">联系客服</a></div>
			</dd>
		</dl>
		<dl>
			<dt>购物指南</dt>
			<dd>
				<div><a href="">购物流程</a></div>
				<div><a href="">会员介绍</a></div>
				<div><a href="">生活旅行/团购</a></div>
				<div><a href="">常见问题</a></div>
				<div><a href="">大家电</a></div>
				<div><a href="">联系客服</a></div>
			</dd>
		</dl>
		<dl>
			<dt>购物指南</dt>
			<dd>
				<div><a href="">购物流程</a></div>
				<div><a href="">会员介绍</a></div>
				<div><a href="">生活旅行/团购</a></div>
				<div><a href="">常见问题</a></div>
				<div><a href="">大家电</a></div>
				<div><a href="">联系客服</a></div>
			</dd>
		</dl>
		<dl>
			<dt>购物指南</dt>
			<dd>
				<div><a href="">购物流程</a></div>
				<div><a href="">会员介绍</a></div>
				<div><a href="">生活旅行/团购</a></div>
				<div><a href="">常见问题</a></div>
				<div><a href="">大家电</a></div>
				<div><a href="">联系客服</a></div>
			</dd>
		</dl>
		<div class="clear"></div>
	</div>
	<script src="js/jquery1.42.min.js"></script>
	<script type="text/javascript">
	$(function(){
		var num = 0;
		var numA = 0;
		if($(".btn").attr("checked") == true){
			$(".sumPrice").each(function(){
				num = num + parseInt($(".sumPrice").html());
			});
			$(".btnCheck").each(function(){
				numA += 1;
			});
			$(".numPriceStrong").html(num+".00");
			$(".numStrong").html(numA);
		}
		var numPriceStrong = $(".numPriceStrong").html();
		$(".btn").click(function(){
			if($(this).attr("checked") == false){
				$(".btn").attr("checked",false);
				$(".btnCheck").attr("checked",false);
				$(".numPriceStrong").html("0.00");
				$(".numStrong").html(0);
			}else{
				$(".btn").attr("checked",true);
				$(".btnCheck").attr("checked",true);
				var numB = 0;
				$(".sumPrice").each(function(){
					numB = numB + parseInt($(this).html());
				});
				$(".numPriceStrong").html(numB+".00");
				$(".numStrong").html(numA);
			}
		});
		$(".btnCheck").click(function(){
			var numB = 0;
			var numC = 0;
			if($(this).attr("checked") == false){
				$(".btn").attr("checked",false);
			}
			$(".btnCheck").each(function(){
				if($(this).attr("checked") == true){
					var sumPrice = $(this).parent().siblings(".sumPrice");
					numC = numC + parseInt(sumPrice.html());
					numB += 1;
				}
			});
			$(".numPriceStrong").html(numC+".00");
			$(".numStrong").html(numB);
		});
	
		$(".add").click(function(){
			var numInput = $(this).siblings(".numInput");
			var simplePrice = $(this).parent().siblings(".simplePrice")
			var sumPrice = $(this).parent().siblings(".sumPrice");

			var cartCheck = $(this).parent().siblings(".cartCheck");
			numInput.val(parseInt(numInput.val())+1);
			sumPrice.html(simplePrice.html()*numInput.val()+".00");
			if(cartCheck.find(".btnCheck").attr("checked") == true){
				var funSum = 0;
				$(".btnCheck").each(function(){
					if($(this).attr("checked") == true){
						console.log($(this).parent().siblings(".sumPrice").html());
						console.log(funSum);
						funSum = funSum + parseInt($(this).parent().siblings(".sumPrice")
						.html());
					}
				});
				console.log(funSum);
				$(".numPriceStrong").html(funSum+".00");
			}
		});
		
		$(".reduce").click(function(){
			var numInput = $(this).siblings(".numInput");
			var simplePrice = $(this).parent().siblings(".simplePrice")
			var sumPrice = $(this).parent().siblings(".sumPrice");
			var cartCheck = $(this).parent().siblings(".cartCheck");
			if(numInput.val() == 1) return;
			numInput.val(parseInt(numInput.val())-1);
			sumPrice.html(simplePrice.html()*numInput.val()+".00");
			if(cartCheck.find(".btnCheck").attr("checked") == true){
				$(".numPriceStrong").html(simplePrice.html()*(numInput.val())+".00");
			}
		});
	});
	</script>
 </body>
</html>
